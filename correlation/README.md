# 相関
2つの確率変数 $X, Y$ の関連性を示す。
$X,Y$ の平均と標準偏差を、 $\bar{X},\bar{Y}, s_X, s_Y$ とする


## ピアソンの積率相関係数
### 定義
- $cov(X,Y) = E[(X-\bar{X})(Y-\bar{Y})]$ を共分散と呼ぶ。
- 共分散を標準偏差の積で割ったものが相関係数 (correlation coefficence)
- 最も一般的な相関係数。
- 0に近ければ相関が無く、1に近ければ正の相関が、-1に近ければ負の相関がある。
- X, Yが独立ならば $corr(X,Y) = 0$ だが、この逆は成り立たない。

$$corr(X, Y) = \frac{E[(X-\bar{X})(Y-\bar{Y})]}{s_Xs_Y}$$


### 共分散行列と相関行列
- n個の確率変数 $X_i$ を定義する
- 分散共分散行列A: $A(i,j) = cov(X_i, X_j)$
- 相関行列B: $A(i,j) = corr(X_i,X_j)$

## 順位相関
順位データ $(x_i, y_i)$ ($i\in[1,n]$) に対する相関を調べる方法として、順位相関係数が存在する。
- Spearman's rank correlation coefficient
- Kendall's rank correlation coefficient

### スピアマンの順位相関係数
以下で定義される。
$$
r_s = 1 - \sum\frac{6\sum_i (x_i-y_i)^2}{n(n^2-1)}
$$

### ケンドールの順位相関係数
$(x_i, y_i)$ と $(x_j, y_j)$ $(j \neq j)$ について、 $(x_i-x_j)(y_i-y_j)$ が正となる組の数を $P$、負になる組の数を $N$ として、

$$
r_k = \frac{P-N}{n(n-1)/2}
$$


## 相関関数
一般には、信号処理や確率過程で用いられる指標。2信号 $f(t), g(t)$ について、相関関数は、$R(t_1, t_2) = <f(t_1)g(t_2)>$ で表現される。

## 自己相関関数
上記において、$f=g$ の場合を自己相関関数と呼ぶ。
### 統計学の場合
- ある確率過程Xの時刻tでの値を $X_t$ として、以下で定義する。
- 1が正の相関、-1が負の相関

$$R(t_1,t_2) = \frac{E[(X_{t_1}-\mu)(X_{t_2}-\mu)]}{\sigma^2}$$

### 信号処理の場合
- 以下のような指標が用いられる。
- $f^*$ は共役な値

$$R_{ff}(\tau) = \int_{-\infin}^{\infin} f(t)f^*(t-\tau)dt$$

## 相互相関関数
- 以下のような指標が用いられる。
- $f^*$ は共役な値

$$R_{fg}(\tau) = \int_{-\infin}^{\infin} f(t)g^*(t-\tau)dt$$
